<!DOCTYPE html>
<html>
  <head>
    <title>Community MNNIT HUB</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Montserrat&display=swap');
        body{
            font-family: 'Montserrat', sans-serif;
            font-size: 25px;
            margin: 7vh;
        }
        h1{
            font-size: 50px;
            text-transform: uppercase;
        }
        button{
            width: 20vh;
            height: 5vh;
            border-radius: 25px;
            border: solid 1px;
            transition: 0.5s;
            transition-property: all;
            text-transform: uppercase;
        }
        button:hover{
            background-color: #000;
            color: #fff;
            border: #000;

        }
      </style>
  </head>
  <body>
    <h1>Welcome to Community of MNNIT HUB</h1>
    <p>Here you can create communities.</p>

    <button onclick="create_community()">Create Contact</button>

    <h2 id="communitylist">Contact List</h2>

    <div id="community-list">
      <button onclick="dofetchdata()">Show Communities</button>
      <ul>
        <!-- Contacts will be added dynamically using JavaScript -->
      </ul>
    </div>

    <script>
      // Fetch the contacts data from the PHP script
      function dofetchdata(){
  fetch('get_communities.php')
    .then(response => response.json())
    .then(data => {
      //testing and debugging 
      console.log(data);
      // Update the contact list on the page
      const contactsList = document.getElementById('community-list');
      contactsList.innerHTML = '';
      data.forEach(contact => {
        const contactElement = document.createElement('li');
        const contactLink = document.createElement('a');
        contactLink.href = `mhcommpage.html?id=${contact.id}&name=${encodeURIComponent(contact.Tables_in_mnnithub)}`;
        contactLink.textContent = contact.Tables_in_mnnithub;
        contactElement.appendChild(contactLink);
        contactsList.appendChild(contactElement);
      });
    })
    .catch(error => console.error(error));
}

  

    </script>

    <script>
        function create_community(){
        window.location.href = "create_community.html";
        }
    </script>
    <!-- <script src="script.js"></script> -->
  </body>
</html>
